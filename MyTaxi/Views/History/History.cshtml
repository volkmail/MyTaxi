@using MyTaxi.Models.ViewModels
@model MyTaxi.Models.ViewModels.History
@{
    ViewData["Title"] = "History";
}
<div class="body-history">
    @if (ViewBag.Info != null && ((List<MyTaxi.Models.ViewModels.HistoryInfo>)ViewBag.Info).Count > 0)
    {
        @foreach (var info in (List<MyTaxi.Models.ViewModels.HistoryInfo>)ViewBag.Info)
        {
            <div class="body-history__info-block">
                <div class="body-history__info-block__header">
                    <h3>Заказ №@info.OrderID</h3>
                </div>
                <div class="body-history__info-block__body">
                    <div class="body-history_info-block__route">
                        <p class="body-history_info-block__route__list-route">Маршрут поездки:</p>
                        @{
                            int i = 1;
                        }
                        @foreach (var adr in info.Addresses)
                        {
                            <p>@i) @adr </p>
                            i++;
                        }
                        <p class="body-trip_info-block__route__sum">Стоимость поездки: @info.MainSumm₽</p>
                    </div>
                    <div class="body-history_info-block__driver-car">
                        @if (info.DriverFound)
                        {
                            <p>За вами приедет @info.DriverSurname @info.DriverName @info.DriverPatronymic</p>
                            <p>На @info.CarMark @info.CarModel с номером @info.CarNumber цвета @info.CarColor</p>
                        }
                        else
                        {
                            <p>Идет поиск водителя...</p>
                        }
                    </div>
                </div>
            </div>
        }
    }
    else
    {
        <h3>История поездок пуста!</h3>
    }
</div>
